// Fragmentos de la historia
const historia = [
    {
        tipo: "portada",
        texto: "游눝 Para mi Cachetitos 游눝", // Texto opcional para la portada
    },
    {
        gif: "26869201", // Happy Cat Clapping GIF
        texto: "Kriscial, eres la persona m치s incre칤ble que he conocido. Desde que llegaste a mi vida, todo cambi칩. Eres mi raz칩n de sonre칤r, mi cachetona hermosa, y no hay un solo d칤a en el que no piense en ti.",
    },
    {
        gif: "20616343", // Mochi Pet GIF
        texto: "Antes de conocerte, yo era alguien distante, fr칤o y sin esperanza. Pero t칰 me ense침aste lo que significa confiar, amar y creer en alguien. Eres la luz que ilumin칩 mis d칤as m치s oscuros.",
    },
    {
        gif: "24815491", // Mochi Pet GIF
        texto: "Desde que llegaste, me diste razones para cambiar. Sol칤a ser una persona t칩xica y desinteresada con la sociedad. Pero t칰 sanaste mi coraz칩n y mi alma de maneras que nunca imagin칠.",
    },
    {
        gif: "15235504468675475208", // Mochi Pet GIF
        texto: "La primera vez que escuch칠 tu voz, supe que hab칤a algo especial en ti. Cada palabra, cada gesto, me hicieron enamorarme m치s y m치s de la persona maravillosa que eres.",
    },
    {
        gif: "25055364", // Mochi Pet GIF
        texto: "Kriscial, admiro lo fuerte que eres. A pesar de todo lo que has pasado, sigues adelante sin dejarte derrumbar. Tu fortaleza y valent칤a me inspiran a ser mejor cada d칤a.",
    },
    {
        gif: "25481757", // Mochi Pet GIF
        texto: "S칠 que no siempre ha sido f치cil. Hemos tenido momentos dif칤ciles, pero seguimos adelante porque el amor que tenemos es m치s fuerte que cualquier obst치culo.",
    },
    {
        gif: "13406770227234332236", // Mochi Pet GIF
        texto: "Prometo ser mejor cada d칤a por ti. Prometo no rendirme, incluso cuando las cosas se pongan dif칤ciles. No hay nada m치s importante para m칤 que verte feliz.",
    },
    {
        gif: "12009074393571713242", // Mochi Pet GIF
        texto: "Contigo he aprendido a so침ar con un futuro lleno de felicidad. Imagino nuestra casa, nuestra familia y una vida juntos llena de amor y risas.",
    },
    {
        gif: "21788644", // Mochi Pet GIF
        texto: "Aunque cometo errores, quiero que sepas que siempre estoy dispuesto a mejorar por ti. T칰 eres mi motor y mi mayor motivaci칩n para cambiar.",
    },
    {
        gif: "27324918", // Mochi Pet GIF
        texto: "Eres la primera persona que confi칩 en m칤 y me ayud칩 cuando m치s lo necesitaba. Nunca olvidar칠 c칩mo llenaste de luz los momentos m치s oscuros de mi vida.",
    },
    {
        gif: "26097836", // Mochi Pet GIF
        texto: "Hemos enfrentado miedos juntos y superado obst치culos que antes parec칤an imposibles. Contigo, todo parece posible.",
    },
    {
        gif: "16286609", // Mochi Pet GIF
        texto: "Nuestro amor me ha ense침ado que las ca칤das son parte del camino, pero con esfuerzo y compromiso, siempre podemos levantarnos m치s fuertes.",
    },
    {
        gif: "14624597924205909386", // Mochi Pet GIF
        texto: "Kriscial, eres mi todo. Gracias por amarme tal como soy, por aceptar mis defectos y por ayudarme a convertirme en una mejor versi칩n de m칤 mismo.",
    },
    {
        gif: "26377050", // Mochi Pet GIF
        texto: "Juntos hemos construido sue침os que nunca pens칠 que tendr칤a. Sue침o con un futuro a tu lado, lleno de amor, alegr칤a y tranquilidad.",
    },
    {
        gif: "17718234", // Mochi Pet GIF
        texto: "En los d칤as dif칤ciles, me recuerdo a m칤 mismo lo afortunado que soy de tenerte. No importa cu치ntos problemas enfrentemos, siempre estar칠 a tu lado.",
    },
    {
        gif: "411134658282219592", // Mochi Pet GIF
        texto: "Cuando me equivoco y te lastimo, me duele profundamente. Quiero que sepas que siempre luchar칠 por no repetir mis errores.",
    },
    {
        gif: "17643762158950276527", // Mochi Pet GIF
        texto: "Hemos tenido altibajos, pero cada momento contigo me ha ense침ado el verdadero significado del amor y la paciencia.",
    },
    {
        gif: "21689549", // Mochi Pet GIF
        texto: "Tu amor me ha dado la fuerza para enfrentar mis propios miedos y debilidades. Gracias a ti, he descubierto un lado de m칤 que no conoc칤a.",
    },
    {
        gif: "22525476", // Mochi Pet GIF
        texto: "Sue침o con el d칤a en que caminemos juntos hacia el altar, prometi칠ndonos amor eterno. No puedo esperar para construir nuestra vida juntos.",
    },
    {
        gif: "20463746", // Mochi Pet GIF
        texto: "Kriscial, cada d칤a contigo es un regalo. Nunca dejar칠 de agradecerte por aparecer en mi vida y llenarla de luz.",
    },
    {
        gif: "27361998", // Mochi Pet GIF
        texto: "Eres mi todo, mi raz칩n para seguir adelante. Gracias por ser mi apoyo, mi amor y mi mejor amiga. Te amo con todo mi coraz칩n.",
    },
    {
        gif: "8375650168469205544", // Mochi Pet GIF
        texto: "Contigo quiero enfrentar el mundo, superar obst치culos y celebrar cada peque침a victoria. Juntos, s칠 que podemos con todo.",
    },
    {
        texto: "Hoy cerramos un cap칤tulo m치s de nuestra historia. Cada d칤a a tu lado es un regalo, y hoy celebramos otro mes lleno de amor y risas. Feliz d칤a, amor m칤o. Que este mes sea solo uno de los miles m치s que viviremos juntos, construyendo sue침os y disfrutando cada momento. Te amo m치s de lo que las palabras pueden expresar.",
    },
    {
        gif: "10447284005503087999", // Reemplaza con el ID de un GIF que simbolice amor o celebraci칩n
    },
    {
        tipo: "contraportada",
        texto: "Dedicado con todo mi amor 仇벒잺",
    },
];

let paginaActual = 0;

// Funci칩n para generar las p치ginas din치micamente
function generarPaginas() {
    const libro = document.querySelector(".libro");

    historia.forEach((pagina, index) => {
        const paginaDiv = document.createElement("div");
        paginaDiv.classList.add("pagina");

        // Portada
        if (pagina.tipo === "portada") {
            paginaDiv.classList.add("portada");
            const corazon = document.createElement("div");
            corazon.classList.add("corazon");
            corazon.textContent = pagina.texto;
            paginaDiv.appendChild(corazon);
        }
        // Contraportada
        else if (pagina.tipo === "contraportada") {
            paginaDiv.classList.add("contraportada");
            const mensaje = document.createElement("p");
            mensaje.classList.add("mensaje");
            mensaje.textContent = pagina.texto;
            paginaDiv.appendChild(mensaje);
        }
        // Pen칰ltima p치gina: solo texto centrado
        else if (index === historia.length - 3) {
            paginaDiv.classList.add("penultima-pagina");
            const texto = document.createElement("p");
            texto.textContent = pagina.texto;
            paginaDiv.appendChild(texto);
        }
        // Antepen칰ltima p치gina: imagen centrada
        else if (index === historia.length - 2) {
            paginaDiv.classList.add("antepenultima-pagina");
            const gifContainer = document.createElement("div");
            gifContainer.classList.add("gif-container");
            const gif = document.createElement("div");
            gif.className = "tenor-gif-embed";
            gif.setAttribute("data-postid", pagina.gif);
            gif.setAttribute("data-share-method", "host");
            gif.setAttribute("data-aspect-ratio", "1.28351");
            gif.setAttribute("data-width", "100%");
            gifContainer.appendChild(gif);
            paginaDiv.appendChild(gifContainer);
        }
        // P치ginas normales
        else {
            const gifContainer = document.createElement("div");
            gifContainer.classList.add("gif-container");
            const gif = document.createElement("div");
            gif.className = "tenor-gif-embed";
            gif.setAttribute("data-postid", pagina.gif);
            gif.setAttribute("data-share-method", "host");
            gif.setAttribute("data-aspect-ratio", "1.28351");
            gif.setAttribute("data-width", "100%");
            gifContainer.appendChild(gif);

            const texto = document.createElement("p");
            texto.classList.add("texto-pagina");
            texto.textContent = pagina.texto;

            paginaDiv.appendChild(gifContainer);
            paginaDiv.appendChild(texto);
        }

        libro.appendChild(paginaDiv);
    });

    const tenorScript = document.createElement("script");
    tenorScript.src = "https://tenor.com/embed.js";
    tenorScript.async = true;
    document.body.appendChild(tenorScript);
}

// Funci칩n para mostrar una p치gina espec칤fica
function mostrarPagina(index) {
    const paginas = document.querySelectorAll(".pagina");

    // Recorrer todas las p치ginas y actualizar su estado
    paginas.forEach((pagina, i) => {
        if (i === index) {
            pagina.style.transform = "rotateY(0deg)"; // P치gina visible
            pagina.style.zIndex = "1";
            pagina.classList.add("visible");
        } else {
            pagina.style.transform = i < index ? "rotateY(-180deg)" : "rotateY(0deg)";
            pagina.style.zIndex = "-1"; // Ocultar las dem치s
            pagina.classList.remove("visible");
        }
    });
}


// Navegaci칩n entre p치ginas
document.getElementById("btn-anterior").addEventListener("click", () => {
    if (paginaActual > 0) {
        paginaActual--;
        mostrarPagina(paginaActual);
    }
});

document.getElementById("btn-siguiente").addEventListener("click", () => {
    if (paginaActual < historia.length - 1) {
        paginaActual++;
        mostrarPagina(paginaActual);
    }
});



// Inicializar las p치ginas
document.getElementById("boton-sorpresa").addEventListener("click", () => {
    document.getElementById("carta-inicial").style.display = "none";
    document.getElementById("panel-libro").style.display = "flex";
    generarPaginas();
    mostrarPagina(0); // Mostrar la portada al inicio
});

